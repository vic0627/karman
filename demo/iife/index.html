<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../../dist/karman.min.js"></script>
  </head>
  <body>
    <div>
      <button id="send">send</button>
      <button id="set">set something</button>
    </div>
    <script type="module">
      import $karman, { getCommentById, addProduct, pathTest, arrTest } from "./main.js";

      const fn = async () => {
        try {
          // const [resPromise, abort] = $karman.facts.random({ animal_type: ["cat", "dog"], amount: 2, animal_id: 20 });
          // const [resPromise] = $karman.posts.getCommentById({ postId: 2 });
          // const [resPromise] = getCommentById({ postId: 3 });
          // const [resPromise] = addProduct({
          //   title: "asd",
          //   price: 123,
          //   description: "asdfjg",
          //   image: "asdf"
          // });
          // const [resPromise] = pathTest({ id: 3, name: "hello" });
          const [resPromise] = arrTest({ arr: [4, 5, 2, "sdf", 5, 2] });
          // abort('what???')
          // const [resPromise] = $karman.facts.getAll();
          console.log(await resPromise);
        } catch (error) {
          console.error(error);
        }
      };

      fn();
      send.addEventListener("click", () => {
        fn();
      });

      set.addEventListener("click", () => {
        if (localStorage["something"]) localStorage.removeItem("something");
        else localStorage["something"] = "hello";
      });
    </script>
  </body>
</html>
